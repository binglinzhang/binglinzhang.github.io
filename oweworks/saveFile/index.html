<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <link rel="stylesheet" href="bootstrap.css">
    </head>
    <body>
        <div class="container-fluid" style="margin-top:20px;">
        <div class="col-md-3">
            <div class="form-group">
                <label>输入内容</label>
                <textarea id="textareaValue" class="form-control" rows="6" placeholder="测试文本，随便修改后点击保存。"></textarea>
            </div>

            <div class="form-group">
                <label>保存的文件名</label>
                <input type="text" class="form-control" placeholder="test.txt" id="inputValue">
            </div>
            <a class="btn btn-default" id="saveBtn">保存</a>
            <p id="markLab" style="margin-top:10px;"></p>

    </div>
    </div>
    <script type="text/javascript">

        saveBtn = document.getElementById( 'saveBtn' );
        saveBtn.addEventListener('click',function () {
            if (document.querySelector('#inputValue').value) {
                var count = 0 ;
                var textareaValue = document.querySelector('#textareaValue').value;
                saveBtn.download = document.querySelector('#inputValue').value;
                saveBtn.href = "data:text/paint; utf-8," + textareaValue;
                for (let i = 0; i<textareaValue.length; i++) {
                    if (textareaValue.charAt(i) != " " && textareaValue.charAt(i) != "\n") { count ++ ; }
                    document.querySelector("#markLab").innerHTML = "共保存了 " + "<b>" + count + "</b>" + " 个字数";
                }
            } else {
                alert("Please input your filetitle...");
            }
        })

    </script>
    </body>

</html>
